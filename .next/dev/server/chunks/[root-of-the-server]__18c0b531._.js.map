{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 34, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/HORIZON/OneDrive/Desktop/chat-gpt/my-app/app/api/chat/route.ts"],"sourcesContent":["import { google } from \"@ai-sdk/google\";\nimport { frontendTools } from \"@assistant-ui/react-ai-sdk\";\nimport { streamText, convertToModelMessages, type UIMessage } from \"ai\";\n\nexport async function POST(req: Request) {\n  try {\n    const { messages, system, tools } = await req.json();\n\n    // Check if API key is configured\n    if (!process.env.GEMINI_API_KEY) {\n      return new Response(\n        JSON.stringify({ error: \"Gemini API key is not configured\" }),\n        { status: 500, headers: { \"Content-Type\": \"application/json\" } }\n      );\n    }\n\n    const result = streamText({\n      // Use Gemini 1.5 Flash (faster, free tier friendly)\n      model: google(\"gemini-1.5-flash\"),\n      messages: await convertToModelMessages(messages),\n      system,\n      tools: {\n        ...frontendTools(tools ?? {}),\n      },\n    });\n\n    // Use toTextStreamResponse for older versions\n    return result.toTextStreamResponse();\n  } catch (error: any) {\n    console.error(\"API Route Error:\", error);\n    return new Response(\n      JSON.stringify({ \n        error: \"Failed to generate response\",\n        details: error?.message || \"Unknown error\"\n      }),\n      { status: 500, headers: { \"Content-Type\": \"application/json\" } }\n    );\n  }\n}"],"names":[],"mappings":";;;;AAAA;AACA;AACA;;;;AAEO,eAAe,KAAK,GAAY;IACrC,IAAI;QACF,MAAM,EAAE,QAAQ,EAAE,MAAM,EAAE,KAAK,EAAE,GAAG,MAAM,IAAI,IAAI;QAElD,iCAAiC;QACjC,IAAI,CAAC,QAAQ,GAAG,CAAC,cAAc,EAAE;YAC/B,OAAO,IAAI,SACT,KAAK,SAAS,CAAC;gBAAE,OAAO;YAAmC,IAC3D;gBAAE,QAAQ;gBAAK,SAAS;oBAAE,gBAAgB;gBAAmB;YAAE;QAEnE;QAEA,MAAM,SAAS,IAAA,oKAAU,EAAC;YACxB,oDAAoD;YACpD,OAAO,IAAA,mKAAM,EAAC;YACd,UAAU,MAAM,IAAA,gLAAsB,EAAC;YACvC;YACA,OAAO;gBACL,GAAG,IAAA,mMAAa,EAAC,SAAS,CAAC,EAAE;YAC/B;QACF;QAEA,8CAA8C;QAC9C,OAAO,OAAO,oBAAoB;IACpC,EAAE,OAAO,OAAY;QACnB,QAAQ,KAAK,CAAC,oBAAoB;QAClC,OAAO,IAAI,SACT,KAAK,SAAS,CAAC;YACb,OAAO;YACP,SAAS,OAAO,WAAW;QAC7B,IACA;YAAE,QAAQ;YAAK,SAAS;gBAAE,gBAAgB;YAAmB;QAAE;IAEnE;AACF"}}]
}